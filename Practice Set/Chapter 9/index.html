<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chapter 9 Practice Set</title>
  </head>
  <body></body>
  <script>
    // Q1
    // const loadScript = (src) => {
    //   return new Promise((resolve, reject) => {
    //     let script = document.createElement("script");
    //     script.src = src;
    //     script.onload = function () {
    //       resolve("Script Loaded with src " + src);
    //     };
    //     script.onerror = function () {
    //       reject("Error Loading Script with src "+src);
    //     };
    //     document.body.append(script)
    //   });
    // };

    // loadScript('https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js').then((value)=>{
    //     console.log(value)
    // }).catch((err)=>{
    //     console.log(err);
    // })

    // Q2
    // async function loadScript(src) {
    //   let script = document.createElement("script");
    //   script.src = await src;
    //   script.onload = function () {
    //     console.log("Script Loaded with src " + src);
    //   };
    //   script.onerror = function () {
    //     console.log("Error Loading Script with src " + src);
    //   };
    //   document.body.append(script);
    // }

    // const main2 = async () => {
    //   loadScript(
    //     "https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    //   );
    // };

    // main2()

    // Q3
    // let p = () => {
    //   new Promise((resolve, reject) => {
    //     setTimeout(() => {
    //       reject(new Error("This statement is Wrong!"));
    //     }, 3000);
    //   });
    // };
    // async function handleFunc() {
    //   // await p
    //   //   .then((value) => {
    //   //     console.log(value);
    //   //   })
    //   //   .catch((err) => {
    //   //     console.log(err);
    //   //   });

    //   //Alternate Solution
    //   try {
    //     let c = await p();
    //     console.log(c);
    //   } catch (error) {
    //     console.log('Error has been successfully handled');
    //   }
    // }
    // handleFunc();

    // Q4
    let p1 = new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve("Promise 1");
      }, 3000);
    });

    let p2 = new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve("Promise 2");
      }, 5000);
    });

    let p3 = new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve("Promise 3");
      }, 7000);
    });
    async function threePromisesAll() {
      let promise_all = await Promise.all([p1, p2, p3]);
      console.log(promise_all);
    }
    threePromisesAll();

    async function seperateThreePromises() {
      await p1.then((value) => {
        console.log(value);
      });
      await p2.then((value) => {
        console.log(value);
      });
      await p3.then((value) => {
        console.log(value);
      });
    }
    seperateThreePromises();
  </script>
</html>
